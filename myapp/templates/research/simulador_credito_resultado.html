{% extends 'layout/base.html' %}
{% load static %}
{% block title %}Resultado Simulacion - TuChanchita{% endblock %}

{% block extra_css %}
<style>
.resultado-container {
  max-width: 800px;
  margin: 40px auto;
  padding: 30px;
  background: rgba(255, 255, 255, 0.07);
  border-radius: 15px;
}

.resultado-box {
  background: rgba(96, 165, 250, 0.2);
  padding: 25px;
  border-radius: 10px;
  margin-bottom: 25px;
}

.riesgo-alto { border-left: 5px solid #f44336; }
.riesgo-medio { border-left: 5px solid #ff9800; }
.riesgo-bajo { border-left: 5px solid #4caf50; }

.detalle-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
  margin: 20px 0;
}

.detalle-item {
  background: rgba(255, 255, 255, 0.05);
  padding: 15px;
  border-radius: 8px;
}

.btn-primary {
  background: #60A5FA;
  color: white;
  padding: 12px 24px;
  border: none;
  border-radius: 8px;
  text-decoration: none;
  display: inline-block;
  margin-top: 20px;
}
</style>
{% endblock %}

{% block content %}
<div class="resultado-container">
  <h2>Resultado de la Simulacion</h2>
  
  <div class="resultado-box riesgo-{{ simulator.evaluacion_riesgo }}">
    <h3>Tipo de Credito: {{ simulator.get_tipo_credito_display }}</h3>
    <p style="font-size: 24px; font-weight: bold;">Cuota Mensual: S/. {{ simulator.cuota_mensual|floatformat:2 }}</p>
    <p><strong>Evaluacion de Riesgo: {{ simulator.evaluacion_riesgo|upper }}</strong></p>
  </div>
  
  <h3>Detalles de la Simulacion:</h3>
  <div class="detalle-grid">
    <div class="detalle-item">
      <strong>Monto Solicitado:</strong><br>
      S/. {{ simulator.monto_solicitado|floatformat:2 }}
    </div>
    <div class="detalle-item">
      <strong>Plazo:</strong><br>
      {{ simulator.plazo_meses }} meses
    </div>
    <div class="detalle-item">
      <strong>Tasa de Interes:</strong><br>
      {{ simulator.tasa_interes_anual }}% anual
    </div>
    <div class="detalle-item">
      <strong>Total a Pagar:</strong><br>
      S/. {{ simulator.total_pagar|floatformat:2 }}
    </div>
    <div class="detalle-item">
      <strong>Total de Intereses:</strong><br>
      S/. {{ simulator.total_intereses|floatformat:2 }}
    </div>
    <div class="detalle-item">
      <strong>Nivel de Endeudamiento:</strong><br>
      {{ simulator.nivel_endeudamiento|floatformat:1 }}% de ingresos
    </div>
  </div>
  
  <div style="background: rgba(255, 193, 7, 0.2); padding: 20px; border-radius: 8px; margin-top: 20px;">
    <h4>Recomendacion:</h4>
    <p>{{ simulator.recomendacion }}</p>
  </div>
  
  <div style="margin-top: 30px; text-align: center;">
    <a href="{% url 'simulador_credito' %}" class="btn-primary">Nueva Simulacion</a>
    <a href="{% url 'dashboard' %}" class="btn-primary" style="background: #666; margin-left: 10px;">Volver al Dashboard</a>
  </div>
</div>
{% endblock %}



